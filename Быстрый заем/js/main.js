//человеко понятная суммаfunction format_money(s0) {                      s = new String(s0);                      s = s.replace(new RegExp('[^0-9\.]', 'g'),'');                      if(!s) s = '0';                      l = s.length - 1;                      var ret = '';                      var x = 1;                      for(i=l;i>=0;i--) {                              c = s.substr(i,1);                              ret=c + ret;                              if(c=='.') x=0;                              if(x==3) {                                      ret=' ' + ret;                                      x=1;                              } else {                                      x++;                              }                      }                      ret = jQuery.trim(ret);                      return ret + ' ';              }//sliders for the calculator$(function() {   $( "#slider-range-min" ).slider({     range: "min",     value: 400000,     min: 300000,     max: 1000000,     step: 50000,     animate: true,     slide: function( event, ui ) {       $( "#amount" ).val( ui.value );       calculatePayment();     }   });   $( "#amount" ).val( $( "#slider-range-min" ).slider( "value" ) );      $( "#slider-range-time" ).slider({     range: "min",     value: 6,     min: 3,     max: 14,     step: 1,     animate: true,     slide: function( event, ui ) {       $( "#times" ).val( ui.value );       calculatePayment();     }   });   $( "#times" ).val( $( "#slider-range-time" ).slider( "value" ) );  //calculator               function calculatePayment() {        		var percent = $('#rate-item').text()/100;        			time = parseInt($("#times").val());        		    amount = parseInt($("#amount").val());        		    summa = (percent * amount) * time +amount;        		$("#total-back").html(format_money(summa));        		date(time)        		}        	calculatePayment();   //функция месяцыfunction month(m){  var arr_m = new Array('01','02','03','04','05','06',                        '07','08','09','10','11','12');  return arr_m[m];}//функция подсчета датыfunction date(days){  var day = new Date();  day.setTime(day.getTime()+ (days) * 24 * 60 * 60 * 1000)  $('#total-time').html(day.getDate()+'.'+month(day.getMonth())+' <span class="total-years"> '+day.getFullYear()+' </span>')  }    jQuery("#amount").change(function(){	 var value1=jQuery("#amount").val();	  //$("#slider-range-min").slider( "option", "min", 2 );	 jQuery("#slider-range-min").slider({ value: value1} );	 if (value1 < 300000) { value1 = 300000; jQuery("input#amount").val(300000)}	 if (value1 > 1000000) { value1 = 1000000; jQuery("input#amount").val(1000000)}	 });	 jQuery("#times").change(function(){	 var value1=jQuery("#amount").val();	  //$("#slider-range-min").slider( "option", "min", 2 );	 jQuery("#slider-range-min").slider({ value: value1} );	 if (value1 < 300000) { value1 = 300000; jQuery("input#amount").val(300000)}	 if (value1 > 1000000) { value1 = 1000000; jQuery("input#amount").val(1000000)} }); // select custom & popup plugin  	$('select').selectric(); 		$('.call__popup').magnificPopup({  items: {      src: '#call-btn',      type: 'inline'  }	});	// Mobile menu		$('.nav-toggole').click(function(){		$('.hidden-desktop ').slideToggle(400);	}); });  // registration steps slider$(function() {  $( "#progressbar" ).progressbar({     value: 7,   });// Validator			$('.popup-form, .reg-form').validate({				onKeyup : false,				eachValidField : function() {					$(this).closest('div').removeClass('error').addClass('success');					$('.selectric ').removeClass('error');				},				eachInvalidField : function() {					$(this).closest('div').removeClass('success').addClass('error');					if (jQuery('.selectricHideSelect').hasClass('error')) {						$('.selectric ').addClass('error');					}				}			});              		$('#types-loan').on('change', function(){//options for calculator		    var el = $(this).val();		    	  $( '#slider-range-min').removeClass('range1 range2 range3 range4 range5 range6 range7 range8'); 		    	  $( '#slider-range-min').addClass('range'+el);		    	  $( '#slider-range-time').removeClass('period1 period2 period3 period4 period5 period6 period7 period8'); 		    	  $( '#slider-range-time').addClass('period'+el);		    	  $( '#rate-item').removeClass();		    	  $( '#rate-item').addClass('rate'+el);		    	  $( '.range1' ).slider({		    	    min: 300000,		    	    max: 1000000,		    	    value: 400000,		    	  });		    	  $( '.range2, .range3' ).slider({		    	    min: 200000,		    	    max: 1000000,		    	    value: 400000,		    	  });		    	  $( '.range4' ).slider({		    	    min: 1000000,		    	    max: 3000000,		    	    value: 2000000,		    	  });		    	  $( '.range5' ).slider({		    	    min: 500000,		    	    max: 2000000,		    	    value: 500000,		    	  });		    	  $( '.range6' ).slider({		    	    min: 500000,		    	    max: 3000000,		    	    value: 500000,		    	  });		    	  $( '.range7' ).slider({		    	    min: 500000,		    	    max: 4000000,		    	    value: 500000,		    	  });		    	  $( '.range8' ).slider({		    	    min: 500000,		    	    max: 7000000,		    	    value: 500000,		    	  });		    	  $( '.period1, .period2, .period3' ).slider({		    	    min: 3,		    	    max: 14,		    	    value: 6,		    	  });		    	  $( '.period4, .period5, .period6' ).slider({		    	    min: 3,		    	    max: 30,		    	    value: 6,		    	  });		    	  $( '.period7' ).slider({		    	    min: 3,		    	    max: 45,		    	    value: 6,		    	  });		    	  $( '.period8' ).slider({		    	    min: 3,		    	    max: 60,		    	    value: 6,		    	  });		    	  $( "#amount" ).val( $( "#slider-range-min" ).slider( "value" ) );		    	  $( "#times" ).val( $( "#slider-range-time" ).slider( "value" ) );		    	  $('.rate1').text(2);		    	  $('.rate2').text(1);		    	  $('.rate3').text(0.5);		    	  $('.rate4, .rate5').text(1.5);		    	  $('.rate6').text(1.25);		    	  $('.rate7').text(1.);		    	  $('.rate8').text(0.4);		    	  var max = $('#slider-range-min').slider( "option", "max" );		    	  	  min = $('#slider-range-min').slider( "option", "min" );			    	  	  maxDay = $('#slider-range-time').slider( "option", "max" );		    	  $('.max-price').html(format_money(max));		    	  $('.min-price').html(format_money(min));		    	  $('.max-day').html(format_money(maxDay));		    	  		    	  	  //Tooltip		    		$('.active-tooltip').removeClass('active-tooltip');			          	$('.tooltip'+el).addClass('active-tooltip');		    		});           $('.i-question').mouseover(function(){						$('.active-tooltip').fadeIn(300);                                  }).mouseout(function(){                        $('.active-tooltip').fadeOut(300);           });                       });